<!doctype html>
<html lang="es-AR">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
    <link rel="manifest" href="manifest.json">
    <link rel="mask-icon" href="safari-pinned-tab.svg" color="#5bbad5">
    <link rel="shortcut icon" href="favicon.ico">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <title>Chat - Ratup</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
        crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU"
        crossorigin="anonymous">


    <link href="css/vendor.css" rel="stylesheet">
    <link href="css/main.css" rel="stylesheet">
</head>

<body class="bgchat">
    <header class="navbar fixed-top navbar-expand chat">
        <a class="nav-link back" href="14_mensajes-aviso-ofertado-50.html"><i aria-hidden="true" class="fas fa-arrow-left"></i> <span class="sr-only">Atrás</span></a>
        <div class="perfil">
            <img src="https://randomuser.me/api/portraits/women/8.jpg" aria-hidden="false" alt="">
        </div>
        <h1 class="navbar-name w-100 w-back">Julia</h1>
    </header>

    <main class="chatmargin">

        <div id="chat" role="log" class="chat-body">
            <ol id="chatRegion" aria-live="assertive" aria-atomic="false">
                <li class="mensaje otro">Hola soy Julia! Como va?</li>
            </ul>
        </div>
        <div style="clear: both;"></div>



        <div class="navbar fixed-bottom navbar-expand chat-bottom">
            <form action="" class="w-100 d-flex">
                <!-- <label for="mensaje" class="sr-only">Mensaje del aviso</label> -->
                <textarea aria-label="Mensaje" class="form-control mr-2" name="mensaje" id="mensaje" rows="1" placeholder="Escribí un mensaje..."></textarea>
                <button id="enviar" type="submit" class="btn btn-primary"><i aria-hidden="true" class="fas fa-paper-plane"></i><span class="sr-only">Enviar
                        mensaje</span></button>
            </form>
        </div>
    </main>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
        crossorigin="anonymous"></script>

    
    <script src="js/main.js"></script>
    <script>
        expandTextarea('mensaje');
        var numResponse = 0;
        var intro = '<li class="mensaje yo">';
        var outro = '</li>';
        var otroIn = '<li class="mensaje otro">';
        var otroOut = '</li>';
        var otroMensajes = [
            'Genial. Me gustó tu propuesta. Vemos ahí en el cine cómo pagamos?',
            'Genial. Nos vemos!',
            'Dale!'
        ];



        function responder() {
            var msg = otroMensajes[numResponse];
            if (numResponse < otroMensajes.length - 1) {
                numResponse++
            };
            $('#chatRegion').append(otroIn + msg + otroOut);
            $('html, body').scrollTop($(document).height());
        }


        $(document).ready(function () {
            $('#enviar').on("click", function (e) {
                e.preventDefault();
                var msg = $('#mensaje').val();
                if (msg != '') {
                    $('#mensaje').val('');
                    $('#chatRegion').append(intro + msg + outro);
                    setTimeout(responder, 2000);
                    resetTextarea('mensaje');
                }
                $('html, body').scrollTop($(document).height());
            });
            validate();
            $('#mensaje').on('keyup',validate);
        });

        function validate() {
            if ($('#mensaje').val().length > 0) {
                $('#enviar').prop("disabled", false);
            } else {
                $('#enviar').prop("disabled", true);
            }
        }
    </script>
</body>

</html>